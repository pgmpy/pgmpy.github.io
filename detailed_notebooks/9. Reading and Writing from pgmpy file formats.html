
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Reading and Writing from pgmpy file formats &#8212; pgmpy 0.1.23 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script src="../_static/jquery.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Learning Bayesian Networks from Data" href="10.%20Learning%20Bayesian%20Networks%20from%20Data.html" />
    <link rel="prev" title="Sampling In Continuous Graphical Models" href="8.%20Sampling%20Algorithms.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Reading-and-Writing-from-pgmpy-file-formats">
<h1>Reading and Writing from pgmpy file formats<a class="headerlink" href="#Reading-and-Writing-from-pgmpy-file-formats" title="Permalink to this heading"></a></h1>
<p>pgmpy is a python library for creation, manipulation and implementation of Probabilistic graph models. There are various standard file formats for representing PGM data. PGM data basically consists of graph, a distribution assoicated to each node and a few other attributes of a graph.</p>
<p>pgmpy has a functionality to read networks from and write networks to these standard file formats. Currently pgmpy supports 5 file formats ProbModelXML, PomDPX, XMLBIF, XMLBeliefNetwork and UAI file formats. Using these modules, models can be specified in a uniform file format and readily converted to bayesian or markov model objects.</p>
<p>Now, Let’s read a ProbModel XML File and get the corresponding model instance of the probmodel.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pgmpy.readwrite</span> <span class="kn">import</span> <span class="n">ProbModelXMLReader</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reader_string</span> <span class="o">=</span> <span class="n">ProbModelXMLReader</span><span class="p">(</span><span class="s1">&#39;../files/example.pgmx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now to get the corresponding model instance we need <code class="docutils literal notranslate"><span class="pre">get_model</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">reader_string</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Now we can query this model accoring to our requirements. It is an instance of BayesianModel or MarkovModel depending on the type of the model which is given.</p>
<p>Suppose we want to know all the nodes in the given model, we can do:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;X-ray&#39;, &#39;Bronchitis&#39;, &#39;Dyspnea&#39;, &#39;VisitToAsia&#39;, &#39;Smoker&#39;, &#39;LungCancer&#39;, &#39;Tuberculosis&#39;, &#39;TuberculosisOrCancer&#39;]
</pre></div></div>
</div>
<p>To get all the edges we can use <code class="docutils literal notranslate"><span class="pre">model.edges</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
OutEdgeView([(&#39;Bronchitis&#39;, &#39;Dyspnea&#39;), (&#39;VisitToAsia&#39;, &#39;Tuberculosis&#39;), (&#39;Smoker&#39;, &#39;Bronchitis&#39;), (&#39;Smoker&#39;, &#39;LungCancer&#39;), (&#39;LungCancer&#39;, &#39;TuberculosisOrCancer&#39;), (&#39;Tuberculosis&#39;, &#39;TuberculosisOrCancer&#39;), (&#39;TuberculosisOrCancer&#39;, &#39;Dyspnea&#39;), (&#39;TuberculosisOrCancer&#39;, &#39;X-ray&#39;)])
</pre></div></div>
</div>
<p>To get all the cpds of the given model we can use <code class="docutils literal notranslate"><span class="pre">model.get_cpds</span></code> and to get the corresponding values we can iterate over each cpd and call the corresponding <code class="docutils literal notranslate"><span class="pre">get_cpd</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cpds</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_cpds</span><span class="p">()</span>
<span class="k">for</span> <span class="n">cpd</span> <span class="ow">in</span> <span class="n">cpds</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cpd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
+----------------------+-------------------------+-------------------------+
| TuberculosisOrCancer | TuberculosisOrCancer(0) | TuberculosisOrCancer(1) |
+----------------------+-------------------------+-------------------------+
| X-ray(0)             | 0.95                    | 0.05                    |
+----------------------+-------------------------+-------------------------+
| X-ray(1)             | 0.02                    | 0.98                    |
+----------------------+-------------------------+-------------------------+
+---------------+-----------+-----------+
| Smoker        | Smoker(0) | Smoker(1) |
+---------------+-----------+-----------+
| Bronchitis(0) | 0.7       | 0.3       |
+---------------+-----------+-----------+
| Bronchitis(1) | 0.4       | 0.6       |
+---------------+-----------+-----------+
+----------------------+-------------------------+-------------------------+-------------------------+-------------------------+
| TuberculosisOrCancer | TuberculosisOrCancer(0) | TuberculosisOrCancer(0) | TuberculosisOrCancer(1) | TuberculosisOrCancer(1) |
+----------------------+-------------------------+-------------------------+-------------------------+-------------------------+
| Bronchitis           | Bronchitis(0)           | Bronchitis(1)           | Bronchitis(0)           | Bronchitis(1)           |
+----------------------+-------------------------+-------------------------+-------------------------+-------------------------+
| Dyspnea(0)           | 0.9                     | 0.1                     | 0.3                     | 0.7                     |
+----------------------+-------------------------+-------------------------+-------------------------+-------------------------+
| Dyspnea(1)           | 0.2                     | 0.8                     | 0.1                     | 0.9                     |
+----------------------+-------------------------+-------------------------+-------------------------+-------------------------+
+----------------+------+
| VisitToAsia(0) | 0.99 |
+----------------+------+
| VisitToAsia(1) | 0.01 |
+----------------+------+
+-----------+-----+
| Smoker(0) | 0.5 |
+-----------+-----+
| Smoker(1) | 0.5 |
+-----------+-----+
+---------------+-----------+-----------+
| Smoker        | Smoker(0) | Smoker(1) |
+---------------+-----------+-----------+
| LungCancer(0) | 0.99      | 0.01      |
+---------------+-----------+-----------+
| LungCancer(1) | 0.9       | 0.1       |
+---------------+-----------+-----------+
+-----------------+----------------+----------------+
| VisitToAsia     | VisitToAsia(0) | VisitToAsia(1) |
+-----------------+----------------+----------------+
| Tuberculosis(0) | 0.99           | 0.01           |
+-----------------+----------------+----------------+
| Tuberculosis(1) | 0.95           | 0.05           |
+-----------------+----------------+----------------+
+-------------------------+-----------------+-----------------+-----------------+-----------------+
| LungCancer              | LungCancer(0)   | LungCancer(0)   | LungCancer(1)   | LungCancer(1)   |
+-------------------------+-----------------+-----------------+-----------------+-----------------+
| Tuberculosis            | Tuberculosis(0) | Tuberculosis(1) | Tuberculosis(0) | Tuberculosis(1) |
+-------------------------+-----------------+-----------------+-----------------+-----------------+
| TuberculosisOrCancer(0) | 1.0             | 0.0             | 0.0             | 1.0             |
+-------------------------+-----------------+-----------------+-----------------+-----------------+
| TuberculosisOrCancer(1) | 0.0             | 1.0             | 0.0             | 1.0             |
+-------------------------+-----------------+-----------------+-----------------+-----------------+
</pre></div></div>
</div>
<p>pgmpy not only allows us to read from the specific file format but also helps us to write the given model into the specific file format. Let’s write a sample model into Probmodel XML file.</p>
<p>For that first define our data for the model.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">edges_list</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;VisitToAsia&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuberculosis&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;LungCancer&#39;</span><span class="p">,</span> <span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;Smoker&#39;</span><span class="p">,</span> <span class="s1">&#39;LungCancer&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;Smoker&#39;</span><span class="p">,</span> <span class="s1">&#39;Bronchitis&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;Tuberculosis&#39;</span><span class="p">,</span> <span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;Bronchitis&#39;</span><span class="p">,</span> <span class="s1">&#39;Dyspnea&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">,</span> <span class="s1">&#39;Dyspnea&#39;</span><span class="p">),</span>
              <span class="p">(</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">,</span> <span class="s1">&#39;X-ray&#39;</span><span class="p">)]</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Smoker&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;52&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;568&#39;</span><span class="p">},</span>
                    <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;Bronchitis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                        <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;181&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;698&#39;</span><span class="p">},</span>
                        <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;VisitToAsia&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                         <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;58&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;290&#39;</span><span class="p">},</span>
                         <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;Tuberculosis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                          <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;150&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;201&#39;</span><span class="p">},</span>
                          <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;X-ray&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                   <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">},</span>
                   <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;322&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;252&#39;</span><span class="p">},</span>
                   <span class="s1">&#39;Comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Indica si el test de rayos X ha sido positivo&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">},</span>
         <span class="s1">&#39;Dyspnea&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                     <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;321&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;533&#39;</span><span class="p">},</span>
                     <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                                  <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;238&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;336&#39;</span><span class="p">},</span>
                                  <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;LungCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;States&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;yes&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                        <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;chance&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;finiteStates&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Coordinates&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;152&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;421&#39;</span><span class="p">},</span>
                        <span class="s1">&#39;AdditionalProperties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;Relevance&#39;</span><span class="p">:</span> <span class="s1">&#39;7.0&#39;</span><span class="p">}}}</span>
<span class="n">edges</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;LungCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;Smoker&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;LungCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">},</span>
                    <span class="s1">&#39;Bronchitis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;Dyspnea&#39;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s1">&#39;X-ray&#39;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s1">&#39;VisitToAsia&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Tuberculosis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;X-ray&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">},</span>
                                  <span class="s1">&#39;Dyspnea&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;Bronchitis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Dyspnea&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}},</span>
         <span class="s1">&#39;Tuberculosis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;directed&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}}}</span>

<span class="n">cpds</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;X-ray&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Bronchitis&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Smoker&#39;</span><span class="p">]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span>  <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.3</span><span class="p">,</span>  <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.9</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Dyspnea&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">,</span> <span class="s1">&#39;Bronchitis&#39;</span><span class="p">]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.99</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;VisitToAsia&#39;</span><span class="p">:</span> <span class="p">[]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Smoker&#39;</span><span class="p">:</span> <span class="p">[]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.99</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;LungCancer&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Smoker&#39;</span><span class="p">]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.99</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Tuberculosis&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;VisitToAsia&#39;</span><span class="p">]}},</span>
        <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]),</span>
         <span class="s1">&#39;Variables&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TuberculosisOrCancer&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;LungCancer&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuberculosis&#39;</span><span class="p">]}}]</span>
</pre></div>
</div>
</div>
<p>Now let’s create a <code class="docutils literal notranslate"><span class="pre">BayesianModel</span></code> for this data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pgmpy.models</span> <span class="kn">import</span> <span class="n">BayesianModel</span>
<span class="kn">from</span> <span class="nn">pgmpy.factors.discrete</span> <span class="kn">import</span> <span class="n">TabularCPD</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">BayesianModel</span><span class="p">(</span><span class="n">edges_list</span><span class="p">)</span>

<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

<span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">edges</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="c1">#import pdb; pdb.set_trace()</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">model</span><span class="o">.</span><span class="n">edges</span><span class="p">[(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

<span class="n">tabular_cpds</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">cpd</span> <span class="ow">in</span> <span class="n">cpds</span><span class="p">:</span>
    <span class="n">var</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cpd</span><span class="p">[</span><span class="s1">&#39;Variables&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">evidence</span> <span class="o">=</span> <span class="n">cpd</span><span class="p">[</span><span class="s1">&#39;Variables&#39;</span><span class="p">][</span><span class="n">var</span><span class="p">]</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">cpd</span><span class="p">[</span><span class="s1">&#39;Values&#39;</span><span class="p">]</span>
    <span class="n">states</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">var</span><span class="p">][</span><span class="s1">&#39;States&#39;</span><span class="p">])</span>
    <span class="n">evidence_card</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">evidence_var</span><span class="p">][</span><span class="s1">&#39;States&#39;</span><span class="p">])</span>
                     <span class="k">for</span> <span class="n">evidence_var</span> <span class="ow">in</span> <span class="n">evidence</span><span class="p">]</span>
    <span class="n">tabular_cpds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">TabularCPD</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">states</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">evidence</span><span class="p">,</span> <span class="n">evidence_card</span><span class="p">))</span>

<span class="n">model</span><span class="o">.</span><span class="n">add_cpds</span><span class="p">(</span><span class="o">*</span><span class="n">tabular_cpds</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pgmpy.readwrite</span> <span class="kn">import</span> <span class="n">ProbModelXMLWriter</span><span class="p">,</span> <span class="n">get_probmodel_data</span>
</pre></div>
</div>
</div>
<p>To get the data which we need to give to the ProbModelXMLWriter to get the corresponding fileformat we need to use the method get_probmodel_data. This method is only specific to ProbModelXML file, for other file formats we would directly pass the model to the given Writer Class.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_data</span> <span class="o">=</span> <span class="n">get_probmodel_data</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">ProbModelXMLWriter</span><span class="p">(</span><span class="n">model_data</span><span class="o">=</span><span class="n">model_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">writer</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;ProbModelXML formatVersion=&#34;1.0&#34;&gt;
  &lt;ProbNet type=&#34;BayesianNetwork&#34;&gt;
    &lt;Variables&gt;
      &lt;Variable name=&#34;Bronchitis&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;698&#34; y=&#34;181&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;B&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;Dyspnea&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;533&#34; y=&#34;321&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;D&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;LungCancer&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;421&#34; y=&#34;152&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;L&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;Smoker&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;568&#34; y=&#34;52&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;S&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;Tuberculosis&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;201&#34; y=&#34;150&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;T&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;TuberculosisOrCancer&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;336&#34; y=&#34;238&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;E&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;VisitToAsia&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Coordinates x=&#34;290&#34; y=&#34;58&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;A&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
      &lt;Variable name=&#34;X-ray&#34; role=&#34;chance&#34; type=&#34;finiteStates&#34;&gt;
        &lt;Comment&gt;Indica si el test de rayos X ha sido positivo&lt;/Comment&gt;
        &lt;Coordinates x=&#34;252&#34; y=&#34;322&#34; /&gt;
        &lt;Property name=&#34;Relevance&#34; value=&#34;7.0&#34; /&gt;
        &lt;Property name=&#34;Title&#34; value=&#34;X&#34; /&gt;
        &lt;States&gt;
          &lt;State name=&#34;no&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
          &lt;State name=&#34;yes&#34;&gt;
            &lt;AdditionalProperties /&gt;
          &lt;/State&gt;
        &lt;/States&gt;
      &lt;/Variable&gt;
    &lt;/Variables&gt;
    &lt;Links&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;Bronchitis&#34; var2=&#34;Dyspnea&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;LungCancer&#34; var2=&#34;TuberculosisOrCancer&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;Smoker&#34; var2=&#34;Bronchitis&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;Smoker&#34; var2=&#34;LungCancer&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;Tuberculosis&#34; var2=&#34;TuberculosisOrCancer&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;TuberculosisOrCancer&#34; var2=&#34;Dyspnea&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;TuberculosisOrCancer&#34; var2=&#34;X-ray&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
      &lt;Link directed=&#34;true&#34; var1=&#34;VisitToAsia&#34; var2=&#34;Tuberculosis&#34;&gt;
        &lt;AdditionalProperties /&gt;
      &lt;/Link&gt;
    &lt;/Links&gt;
    &lt;Potentials&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;X-ray&#34; /&gt;
          &lt;Variable name=&#34;TuberculosisOrCancer&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.95 0.05 0.02 0.98 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;Bronchitis&#34; /&gt;
          &lt;Variable name=&#34;Smoker&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.7 0.3 0.4 0.6 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;Dyspnea&#34; /&gt;
          &lt;Variable name=&#34;Bronchitis&#34; /&gt;
          &lt;Variable name=&#34;TuberculosisOrCancer&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.9 0.1 0.3 0.7 0.2 0.8 0.1 0.9 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;VisitToAsia&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.99 0.01 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;Smoker&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.5 0.5 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;LungCancer&#34; /&gt;
          &lt;Variable name=&#34;Smoker&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.99 0.01 0.9 0.1 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;Tuberculosis&#34; /&gt;
          &lt;Variable name=&#34;VisitToAsia&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;0.99 0.01 0.95 0.05 &lt;/Values&gt;
      &lt;/Potential&gt;
      &lt;Potential role=&#34;conditionalProbability&#34; type=&#34;Table&#34;&gt;
        &lt;Variables&gt;
          &lt;Variable name=&#34;TuberculosisOrCancer&#34; /&gt;
          &lt;Variable name=&#34;LungCancer&#34; /&gt;
          &lt;Variable name=&#34;Tuberculosis&#34; /&gt;
        &lt;/Variables&gt;
        &lt;Values&gt;1.0 0.0 0.0 1.0 0.0 1.0 0.0 1.0 &lt;/Values&gt;
      &lt;/Potential&gt;
    &lt;/Potentials&gt;
    &lt;AdditionalConstraints /&gt;
    &lt;AdditionalProperties /&gt;
    &lt;DecisionCriteria /&gt;
  &lt;/ProbNet&gt;
&lt;/ProbModelXML&gt;

</pre></div></div>
</div>
<p>To write the xml data into the file we can use the method <code class="docutils literal notranslate"><span class="pre">write_file</span></code> of the given Writer class.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">writer</span><span class="o">.</span><span class="n">write_file</span><span class="p">(</span><span class="s1">&#39;probmodelxml.pgmx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="General-WorkFlow-of-the-readwrite-module">
<h2>General WorkFlow of the readwrite module<a class="headerlink" href="#General-WorkFlow-of-the-readwrite-module" title="Permalink to this heading"></a></h2>
<p>pgmpy.readwrite.[fileformat]Reader is base class for reading the given file format. Replace file format with the desired fileforamt from which you want to read the file. In this base class there are different methods defined to parse the given file. For example for XMLBelief Network various methods which are defined are as follows:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pgmpy.readwrite.XMLBeliefNetwork</span> <span class="kn">import</span> <span class="n">XBNReader</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">XBNReader</span><span class="p">(</span><span class="s1">&#39;../files/xmlbelief.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">get_model</span></code>: It returns an instance of the given model, for ex, BayesianModel in cases of XMLBelief format.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]
[(&#39;a&#39;, &#39;b&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;d&#39;), (&#39;c&#39;, &#39;d&#39;), (&#39;c&#39;, &#39;e&#39;)]
</pre></div></div>
</div>
<p>pgmpy.readwrite.[fileformat]Writer is base class for writing the model into the given file format. It takes a model as an argument which can be an instance of BayesianModel, MarkovModel. Replace file fomat with the desired fileforamt from which you want to read the file. In this base class there are different methods defined to set the contents of the new file to be created from the given model. For example for XMLBelief Network various methods such as set_analysisnotebook, etc are defined which
helps to set up the network data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pgmpy.models</span> <span class="kn">import</span> <span class="n">BayesianModel</span>
<span class="kn">from</span> <span class="nn">pgmpy.factors.discrete</span> <span class="kn">import</span> <span class="n">TabularCPD</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;STATES&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Present&#39;</span><span class="p">,</span> <span class="s1">&#39;Absent&#39;</span><span class="p">],</span>
               <span class="s1">&#39;DESCRIPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;(c) Brain Tumor&#39;</span><span class="p">,</span>
               <span class="s1">&#39;YPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;11935&#39;</span><span class="p">,</span>
               <span class="s1">&#39;XPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;15250&#39;</span><span class="p">,</span>
               <span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">},</span>
         <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;STATES&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Present&#39;</span><span class="p">,</span> <span class="s1">&#39;Absent&#39;</span><span class="p">],</span>
               <span class="s1">&#39;DESCRIPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;(a) Metastatic Cancer&#39;</span><span class="p">,</span>
               <span class="s1">&#39;YPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;10465&#39;</span><span class="p">,</span>
               <span class="s1">&#39;XPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;13495&#39;</span><span class="p">,</span>
               <span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">},</span>
         <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;STATES&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Present&#39;</span><span class="p">,</span> <span class="s1">&#39;Absent&#39;</span><span class="p">],</span>
               <span class="s1">&#39;DESCRIPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;(b) Serum Calcium Increase&#39;</span><span class="p">,</span>
               <span class="s1">&#39;YPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;11965&#39;</span><span class="p">,</span>
               <span class="s1">&#39;XPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;11290&#39;</span><span class="p">,</span>
               <span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">},</span>
         <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;STATES&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Present&#39;</span><span class="p">,</span> <span class="s1">&#39;Absent&#39;</span><span class="p">],</span>
               <span class="s1">&#39;DESCRIPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;(e) Papilledema&#39;</span><span class="p">,</span>
               <span class="s1">&#39;YPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;13240&#39;</span><span class="p">,</span>
               <span class="s1">&#39;XPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;17305&#39;</span><span class="p">,</span>
               <span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">},</span>
         <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;STATES&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Present&#39;</span><span class="p">,</span> <span class="s1">&#39;Absent&#39;</span><span class="p">],</span>
               <span class="s1">&#39;DESCRIPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;(d) Coma&#39;</span><span class="p">,</span>
               <span class="s1">&#39;YPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;12985&#39;</span><span class="p">,</span>
               <span class="s1">&#39;XPOS&#39;</span><span class="p">:</span> <span class="s1">&#39;13960&#39;</span><span class="p">,</span>
               <span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">}}</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">BayesianModel</span><span class="p">([(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">)])</span>
<span class="n">cpd_distribution</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">,</span> <span class="s1">&#39;DPIS&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]])},</span>
                    <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">,</span> <span class="s1">&#39;DPIS&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
                                                                <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]]),</span> <span class="s1">&#39;CONDSET&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="s1">&#39;CARDINALITY&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]},</span>
                    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">,</span> <span class="s1">&#39;DPIS&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
                                                                <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]]),</span> <span class="s1">&#39;CONDSET&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;CARDINALITY&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]},</span>
                    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">,</span> <span class="s1">&#39;DPIS&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span>
                                                                <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">]]),</span> <span class="s1">&#39;CONDSET&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;CARDINALITY&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]},</span>
                    <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;TYPE&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">,</span> <span class="s1">&#39;DPIS&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
                                                                <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
                                                                <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
                                                                <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">]]),</span> <span class="s1">&#39;CONDSET&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="s1">&#39;CARDINALITY&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]}}</span>

<span class="n">tabular_cpds</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">cpd_distribution</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">evidence</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s1">&#39;CONDSET&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;CONDSET&#39;</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">cpd</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s1">&#39;DPIS&#39;</span><span class="p">]</span>
    <span class="n">evidence_card</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s1">&#39;CARDINALITY&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;CARDINALITY&#39;</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">states</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">var</span><span class="p">][</span><span class="s1">&#39;STATES&#39;</span><span class="p">]</span>
    <span class="n">cpd</span> <span class="o">=</span> <span class="n">TabularCPD</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">states</span><span class="p">),</span> <span class="n">cpd</span><span class="p">,</span>
                     <span class="n">evidence</span><span class="o">=</span><span class="n">evidence</span><span class="p">,</span>
                     <span class="n">evidence_card</span><span class="o">=</span><span class="n">evidence_card</span><span class="p">)</span>
    <span class="n">tabular_cpds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cpd</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_cpds</span><span class="p">(</span><span class="o">*</span><span class="n">tabular_cpds</span><span class="p">)</span>

<span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">properties</span> <span class="ow">in</span> <span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">var</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pgmpy.readwrite.XMLBeliefNetwork</span> <span class="kn">import</span> <span class="n">XBNWriter</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">XBNWriter</span><span class="p">(</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../started/base.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/base.html">Base Model Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/base.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../factors/base.html">Parameterization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exact_infer/base.html">Exact Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exact_infer/model_testing.html">Model Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../approx_infer/base.html">Approximate Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../param_estimator/base.html">Parameter Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure_estimator/base.html">Structure Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metrics.html">Metrics for testing models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readwrite/base.html">Reading/Writing to File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Example Notebooks</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial Notebooks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1.%20Introduction%20to%20Probabilistic%20Graphical%20Models.html">Introduction to Probabilitic Graphical Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.%20Bayesian%20Networks.html">Bayesian Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.%20Causal%20Bayesian%20Networks.html">Causal Bayesian Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.%20Markov%20Models.html">Markov Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.%20Exact%20Inference%20in%20Graphical%20Models.html">Exact Inference in Graphical Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.%20Approximate%20Inference%20in%20Graphical%20Models.html">Approximate Inference in Graphical Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.%20Parameterizing%20with%20Continuous%20Variables.html">Parameterizing with Continuous Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="8.%20Sampling%20Algorithms.html">Sampling In Continuous Graphical Models</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Reading and Writing from pgmpy file formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="10.%20Learning%20Bayesian%20Networks%20from%20Data.html">Learning Bayesian Networks from Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="11.%20A%20Bayesian%20Network%20to%20model%20the%20influence%20of%20energy%20consumption%20on%20greenhouse%20gases%20in%20Italy.html">A Bayesian Network to model the influence of energy consumption on greenhouse gases in Italy</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../tutorial.html">Tutorial Notebooks</a><ul>
      <li>Previous: <a href="8.%20Sampling%20Algorithms.html" title="previous chapter">Sampling In Continuous Graphical Models</a></li>
      <li>Next: <a href="10.%20Learning%20Bayesian%20Networks%20from%20Data.html" title="next chapter">Learning Bayesian Networks from Data</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>







<script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>

<div data-ea-publisher="pgmpyorg" data-ea-type="image" data-ea-style="horizontal"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Ankur Ankan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/detailed_notebooks/9. Reading and Writing from pgmpy file formats.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-177825880-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>